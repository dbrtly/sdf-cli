---
title: "SQL Linting & Formatting"
---

### Overview

SDF includes an integrated high performance SQL linter and formatter. Linting and formatting are core competencies of code-hygiene designed ensure code is consistent across your organization, simplify readability, code reviews, and promote standardization.

SDF's SQL Linter has 4 crucial characteristics.
1. It is incredibly high performance, outperforming SQLFluff by well over 100X in most scenarios.
2. It goes beyond syntax rules and layout by providing **Semantic Lint Rules** for SDF users which can surface powerful SQL optimizations through static analysis of SQL code.
3. It has a high degree of overlap with SQL Fluff to ensure easy migration for existing SQLFLuff users.
4. For syntax and formatting rules, it can be used independently of SDF's transformation layer. Only Semantic Rules require a successfully compiling SDF workspace.

SDF's auto-formatter works in conjunction with the linter to empower teams to write more unified SQL code.

Using the linter is easy.
* Unless otherwise configured, every SDF workspace has *Default Rules*.
* All files listed in your `includes` paths will be linted.
* Run `sdf lint` to lint sql files
* Run `sdf lint [TARGET]` to lint a subset of SQL files
* Run `sdf lint --fix` to fix issues where possible
* Run `sdf fmt` to format sql files

There are 5 categories of rules. Each category has one or more rules. Each rule has a default option, may accept additional configuration, and has an *off* configuration. Layout and Syntax rules were designed to model SQLFluff's configuration for ease of understanding and standardization.
| Parameter | Description | SQL Fluff | SDF
| -------- | -------- | -------- | -------- |
| **Layout rules** | SQL formatting rules | üü¢ | üü¢ |
| **Syntax rules** | SQL syntax consistency and best practices rules | üü¢ | üü¢ |
| **Semantic rules** | Logic and datatype related guardrails | üî¥ | üü¢ |
| **Performance rules** | Performance enhancement recommendations | üî¥ | üü¢ |
| **[SDF Checks](/guide/data-quality/checks) as rules** | Checks against SDF's information schema | üî¥ | üü¢ |


#### Dialect Compatibility
Currently, SDF Lint is only available for the Snowflake SQL dialect. Other dialects are coming soon.
| Dialect   | Availability |
| --------- | ------------ | 
| Snowflake | üü¢           |
| BigQuery  | üü°           |
| Redshift  | üî¥           |
| Trino     | üî¥           |
| SparkSQL  | üî¥           |

#### Introducing Semantic Linting & Performance Rules
For teams already using SDF as their transformation layer, SDF provides **Semantic Lint Rules** and **Performance Lint Rules**, and **Custom Lint Rules** which can catch implicit coercion of names and types, as well as low-performance (and costly!) SQL code.
- *Semantic rules* - derived from SDF's static analysis framework can prevent type coercion. Type and name coercion makes code harder to read, and references more difficult to understand.
- *Performance rules* - dialect-specific optimizations with large performance implications. In Snowflake, the query optimizer is unable to do a filter push down if a function is applied to the filtered column. The function has to be applied to every element of the column. This can lead to dramatic performance decreases in query performance. An example of this suboptimal SQL is a where clause like: `WHERE DATE(datetime_partition) >= DATE('2024-01-01')`.
- *Custom Rules from SDF Checks** - create custom lint rules using top of SDF's information schema.

<Note>
These rules rely on successful compilation of an SDF project and will automatically execute `sdf compile` as a pre-requisite.
</Note>

### Automatically Fix Issues
- Use `sdf lint --fix` to automatically resolve linting issues where possible
- For issues that can't be automatically fixed, SDF will provide error reports
- To ignore a specific error, add the inline-comment `-- noqa` to your query. This will prevent that line from being evaluated by the linter

### Customize and Configure 
- By default, `sdf lint` uses SDF's recommended rules and configuration
- To customize linter rules according to your preferences, override the default settings with a `linter` block in your `workspace.sdf.yml`

<Note>
The linter config block will override the default configuration.
</Note>

#### Default Rules
Per default, every SDF project has the following linter configuration turned on implicitly. 
If you specify your own YML linter configuration, you will **turn off** the default rules and need to specify *all linting rules* yourself.

``` yml
---
linter: 
  name: default_linter

  semantic-rules:
    disallow-implicit-conversions-in: [] # (off) 

  syntax-rules:
    case-keyword: consistent 
    case-literal: consistent 
    case-type: consistent   
    disallow-subquery-in: [from, join] 
    disallow-these-chars-in-quoted-identifiers: ".#%{}\\<>*?/!'\":@+`|="
    disallow-these-identifiers: []  
    flag-distinct-parenthesis: on 
    flag-inconsistent-qualified-column-reference: on  
    flag-inconsistent-ordinal-column-reference: on  
    flag-keywords-used-as-identifiers: []  
    flag-misordered-join-condition: on 
    flag-select-item-order: on 
    flag-trailing-semicolon-after-statements: on  
    flag-unnecessary-case: on 
    flag-unnecessary-else: on 
    flag-unnecessary-nested-case: on 
    flag-unnecessary-quoted-identifiers: on  
    flag-unqualified-multi-source-column-reference: on  
    flag-unused-cte: on    
```

<Note>
All other rules are turned off by default.
</Note>

### Rules Reference

For the full list of rules and configuration options, please visit our 
[lint rules reference page](/reference/lint-rules)



| Type        | Configuration | SDF Err | SQLFluff Err | Auto-Fix |  Default
| ----------- | ------------- | --------- | --------------- | -------- | -------- |
| Syntax      | `case_keyword` | SDF107 | L010              |    ‚úÖ    | `consistent` |
| Syntax      | `case-literal` | SDF108, SDF109  | L040     |     ‚úÖ   | `consistent` |
| Syntax      | `case-type` | SDF110        | L063            |    ‚úÖ    | `consistent` |
| Syntax      | `case-function` | SDF106 | L030 |    ‚úÖ    | `off` |
| Syntax      | `disallow-these-identifiers` | SDF124 | L029 |    ‚ùå    | `[]` |
| Syntax      | `flag-keywords-used-as-identifiers` | SDF125 | ?? |    ‚ùå    | `[]` |
| Syntax      | `disallow-these-chars-in-quoted-identifiers` | SDF117 | L057 |    ‚ùå    | ` ".#%{}\\<>*?/!'\":@+`|=" ` |
| Syntax      | `flag-unnecessary-quoted-identifiers` | SDF118 | L059 |    ‚ùå    | `on` |
| Syntax      | `flag-inconsistent-qualified-column-reference` | SDF112 | L028 |    ‚ùå    | `consistent` |
| Syntax      | `flag-unqualified-multi-source-column-reference` | SDF116 | L027 |    ‚ùå    | `on` |
| Syntax      | `flag-inconsistent-ordinal-column-reference` | SDF105 | L054 |    ‚ùå    | `on` |
| Syntax      | `flag-unnecessary-else` | SDF119 | L035 |    ‚ùå    | `on` |
| Syntax      | `flag-unnecessary-case` | SDF120 | L043 |    ‚ùå    | `on` |
| Syntax      | `flag-unused-cte` | SDF121 | L045 |    ‚ùå    | `on` |
| Syntax      | `flag-unnecessary-nested-case` | SDF122 | L058 |    ‚ùå    | `on` |
| Syntax      | `flag-distinct-parenthesis` | SDF123 | L015 |    ‚ùå    | `on` |
| Syntax      | `flag-misordered-join-condition` | SDF114 | ST09 |    ‚ùå    | `on` |
| Syntax      | `flag-select-item-order` | SDF115 | L034 |    ‚ùå    | `on` |
| Syntax      | `flag-trailing-semicolon-after-statements` | SDF111 | L052 |    ‚ùå    | `on` |
| Semantic    | `case-column` | --------- | --------------- |    ‚ùå    | `off` |
| Semantic    | `case-table` | --------- | --------------- |    ‚ùå    | `off` |
| Semantic    | `case-alias` | --------- | --------------- |    ‚ùå    | `off` |
| Semantic    | `disallow-implicit-conversions-in` | --------- | --------------- |    ‚ùå    | `off` |

| Performance | `flag-function-application-in-where-on-indexed-columns` | --------- | --------------- |    ‚ùå    | `off` |
